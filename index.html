<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(45deg, #ff9a9e, #fad0c4);
      text-align: center;
      color: white;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin: 20px 0;
    }
    .album-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    .album {
      width: 150px;
      height: 150px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: white;
      font-size: 18px;
      font-weight: bold;
      transition: 0.3s;
    }
    .album:hover {
      transform: scale(1.1);
    }
    .media-viewer {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .media-viewer img,
    .media-viewer video {
      max-width: 80%;
      max-height: 80%;
    }
    .close-btn {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 30px;
      cursor: pointer;
      color: white;
    }
    .gallery {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }
    .gallery img, .gallery video {
      width: 150px;
      height: 100px;
      object-fit: cover;
      border-radius: 5px;
      cursor: pointer;
      transition: 0.3s;
    }
    .gallery img:hover, .gallery video:hover {
      transform: scale(1.05);
    }
    .album-gallery-container {
      margin: 20px;
    }
    .album-header {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin: 20px;
    }
    .album-header h2 {
      margin: 0;
    }
    .album-header button {
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      background: #28a745;
      color: white;
      cursor: pointer;
      transition: background 0.3s;
    }
    .album-header button:hover {
      background: #218838;
    }
  </style>
</head>
<body>

  <h1>üì∏ ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</h1>
  
  <div class="album-container">
    <!-- ‡¶™‡ßç‡¶∞‡¶ø-‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶®‡ßç‡¶° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ: ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡¶æ‡¶Å‡¶ï‡¶æ -->
    <div class="album" onclick="unlockAlbum('album1')">
      <h2>‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞</h2>
    </div>
    <div class="album" onclick="unlockAlbum('album2')">
      <h2>‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞‡¶æ</h2>
    </div>
    <div class="album" onclick="unlockAlbum('album3')">
      <h2>‡¶≠‡ßç‡¶∞‡¶Æ‡¶£</h2>
    </div>
    <!-- ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ: ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá -->
    <div class="album" onclick="openMobileGallery()">
      <h2>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</h2>
    </div>
  </div>
  
  <!-- ‡¶π‡¶ø‡¶°‡ßá‡¶® ‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü: ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶ì ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø -->
  <input type="file" id="mobileFilesInput" accept="image/*,video/*" multiple style="display: none;">
  <!-- ‡¶π‡¶ø‡¶°‡ßá‡¶® ‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü: ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá ‡¶õ‡¶¨‡¶ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø -->
  <input type="file" id="albumFilesInput" accept="image/*" multiple style="display: none;">
  
  <!-- Enlarged view (‡¶õ‡¶¨‡¶ø/‡¶≠‡¶ø‡¶°‡¶ø‡¶ì) ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø Modal -->
  <div id="viewer" class="media-viewer">
    <span onclick="closeViewer()" class="close-btn">&times;</span>
    <img id="viewerImg" src="" alt="‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ" style="display: none;">
    <video id="viewerVideo" controls style="display: none;"></video>
  </div>
  
  <script>
    /* ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø; ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡¶æ‡¶Å‡¶ï‡¶æ */
    const albums = {
      "album1": { password: "", images: [] },
      "album2": { password: "", images: [] },
      "album3": { password: "", images: [] }
    };
    
    let currentAlbumKey = null;
    
    // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü/‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function unlockAlbum(albumKey) {
      currentAlbumKey = albumKey;
      // ‡¶Ø‡¶¶‡¶ø ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶ñ‡¶®‡¶ì ‡¶∏‡ßá‡¶ü ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶∏‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá
      if (albums[albumKey].password === "") {
        let setNow = confirm("‡¶è‡¶á ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá ‡¶è‡¶ñ‡¶®‡¶ì ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶®‡ßá‡¶á‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶ñ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?");
        if (setNow) {
          let newPass = prompt("‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®:");
          if (newPass && newPass.trim() !== "") {
            albums[albumKey].password = newPass;
            alert("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
          } else {
            alert("‡¶Ö‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡•§");
            return;
          }
        } else {
          alert("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ ‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï‡•§");
          return;
        }
      } else {
        // ‡¶Ø‡¶¶‡¶ø ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶ó‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶∏‡ßá‡¶ü ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá "‡¶´‡¶∞‡¶ó‡ßá‡¶ü" ‡¶Ö‡¶™‡¶∂‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
        let userPass = prompt("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶Ø‡¶æ‡¶® '‡¶´‡¶∞‡¶ó‡ßá‡¶ü' ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®):");
        if (userPass === null) return; // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡ßá‡¶≤ ‡¶ï‡¶∞‡ßá‡¶®
        if (userPass.trim().toLowerCase() === "‡¶´‡¶∞‡¶ó‡ßá‡¶ü") {
          // ‡¶´‡¶∞‡¶ó‡ßá‡¶ü ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°: ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá
          if (confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
            let newPass = prompt("‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®:");
            if (newPass && newPass.trim() !== "") {
              albums[albumKey].password = newPass;
              alert("‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
              showAlbum(albums[albumKey].images);
            } else {
              alert("‡¶Ö‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°!");
            }
          }
          return;
        }
        if (userPass !== albums[albumKey].password) {
          alert("‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°!");
          return;
        }
      }
      showAlbum(albums[albumKey].images);
    }
    
    // ‡¶â‡¶®‡ßç‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function showAlbum(images) {
      // ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ/‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡¶∞‡¶ø‡ßü‡ßá ‡¶´‡ßá‡¶≤‡¶æ
      const oldContainer = document.querySelector(".album-gallery-container");
      if (oldContainer) oldContainer.remove();
    
      let container = document.createElement("div");
      container.classList.add("album-gallery-container");
      
      // ‡¶π‡ßá‡¶°‡¶æ‡¶∞: ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ‡¶∏‡¶Æ‡ßÇ‡¶π (‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ì ‡¶õ‡¶¨‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®)
      let header = document.createElement("div");
      header.classList.add("album-header");
      header.innerHTML = `<h2>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ: ${currentAlbumKey}</h2>`;
      
      let changePassBtn = document.createElement("button");
      changePassBtn.textContent = "‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®";
      changePassBtn.onclick = changePassword;
      header.appendChild(changePassBtn);
      
      let addImageBtn = document.createElement("button");
      addImageBtn.textContent = "‡¶õ‡¶¨‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®";
      addImageBtn.onclick = addImagesToAlbum;
      header.appendChild(addImageBtn);
      
      container.appendChild(header);
    
      let gallery = document.createElement("div");
      gallery.classList.add("gallery");
      
      images.forEach(img => {
        let imageElem = document.createElement("img");
        imageElem.src = img;
        imageElem.alt = "‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶õ‡¶¨‡¶ø";
        imageElem.onclick = () => viewMedia(img, 'image');
        gallery.appendChild(imageElem);
      });
      
      container.appendChild(gallery);
      
      document.body.appendChild(container);
      container.scrollIntoView({ behavior: 'smooth' });
    }
    
    // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ ‡¶â‡¶®‡ßç‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º)
    function changePassword() {
      if (!currentAlbumKey) return;
      let currentPass = prompt("‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®:");
      if (currentPass !== albums[currentAlbumKey].password) {
        alert("‡¶≠‡ßÅ‡¶≤ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°!");
        return;
      }
      let newPass = prompt("‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®:");
      if (newPass && newPass.trim() !== "") {
        albums[currentAlbumKey].password = newPass;
        alert("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
      } else {
        alert("‡¶Ö‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°!");
      }
    }
    
    // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá ‡¶õ‡¶¨‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶ü‡ßç‡¶∞‡¶ø‡¶ó‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function addImagesToAlbum() {
      document.getElementById("albumFilesInput").click();
    }
    
    // 'albumFilesInput'-‡¶è‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞: ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶õ‡¶¨‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá
    document.getElementById("albumFilesInput").addEventListener("change", function(event) {
      const files = event.target.files;
      if (files.length > 0) {
        Array.from(files).forEach(file => {
          const fileURL = URL.createObjectURL(file);
          albums[currentAlbumKey].images.push(fileURL);
        });
        // ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá
        showAlbum(albums[currentAlbumKey].images);
      }
    });
    
    // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡¶ø‡¶§ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function openMobileGallery() {
      document.getElementById("mobileFilesInput").click();
    }
    
    document.getElementById("mobileFilesInput").addEventListener("change", function(event) {
      const files = event.target.files;
      if (files.length > 0) {
        showMobileGallery(files);
      }
    });
    
    function showMobileGallery(files) {
      const oldContainer = document.querySelector(".album-gallery-container");
      if (oldContainer) oldContainer.remove();
      
      let container = document.createElement("div");
      container.classList.add("album-gallery-container");
      
      let header = document.createElement("div");
      header.classList.add("album-header");
      header.innerHTML = `<h2>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</h2>`;
      container.appendChild(header);
      
      let gallery = document.createElement("div");
      gallery.classList.add("gallery");
      
      Array.from(files).forEach(file => {
        const fileURL = URL.createObjectURL(file);
        let mediaElem;
        if (file.type.startsWith("image")) {
          mediaElem = document.createElement("img");
          mediaElem.src = fileURL;
          mediaElem.alt = "‡¶õ‡¶¨‡¶ø";
          mediaElem.onclick = () => viewMedia(fileURL, 'image');
        } else if (file.type.startsWith("video")) {
          mediaElem = document.createElement("video");
          mediaElem.src = fileURL;
          mediaElem.muted = true;
          mediaElem.onclick = () => viewMedia(fileURL, 'video');
        }
        if (mediaElem) {
          gallery.appendChild(mediaElem);
        }
      });
      
      container.appendChild(gallery);
      document.body.appendChild(container);
      container.scrollIntoView({ behavior: 'smooth' });
    }
    
    // ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ Enlarged View ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function viewMedia(src, type) {
      const viewer = document.getElementById("viewer");
      const viewerImg = document.getElementById("viewerImg");
      const viewerVideo = document.getElementById("viewerVideo");
      
      if (type === 'image') {
        viewerImg.src = src;
        viewerImg.style.display = "block";
        viewerVideo.style.display = "none";
        viewerVideo.pause();
        viewerVideo.src = "";
      } else if (type === 'video') {
        viewerVideo.src = src;
        viewerVideo.style.display = "block";
        viewerImg.style.display = "none";
        viewerVideo.play();
      }
      viewer.style.display = "flex";
    }
    
    // Enlarged view ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function closeViewer() {
      const viewer = document.getElementById("viewer");
      const viewerImg = document.getElementById("viewerImg");
      const viewerVideo = document.getElementById("viewerVideo");
      viewer.style.display = "none";
      viewerImg.style.display = "none";
      viewerVideo.style.display = "none";
      viewerVideo.pause();
      viewerImg.src = "";
      viewerVideo.src = "";
    }
  </script>
</body>
</html>